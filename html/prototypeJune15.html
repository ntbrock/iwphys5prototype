<DOCTYPE! html>
<meta charset="utf-8">

<head>
	<link rel="stylesheet" type="text/css" href="../css/prototypeJune15.css"/>
	<script charset="utf-8" src="../js/d3.min.js"></script>
	<script type="text/javascript" src="../js/prototypeJune15.js"></script>
</head>

<body>

	<svg id="move" width="1000" height="1000" viewbox="0 0 1000 1000" preserveAspectRatio="xMidYMid meet">	

		<!-- Gridlines - this is super messy! Use CSS or D3 to clean up later. -->
		<path d="M 100 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 200 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 300 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 400 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 500 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 600 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 700 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 800 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 900 0 V 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 100 H 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 200 H 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 300 H 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 400 H 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 500 H 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 600 H 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 700 H 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 800 H 1000" stroke="lightgray" fill="transparent"/>
		<path d="M 0 900 H 1000" stroke="lightgray" fill="transparent"/>
		<!-- Object trail. -->
		<polyline  id="objectTrail" fill="none" stroke="blue" stroke-width="2" points=""/>
		<!-- The projectile. -->
		<circle r="8" fill="green"></circle>
		<!-- The ground. -->
		<path d="M 0 700 H 1000 V 1000 H 0 Z" fill="lightgreen" stroke="transparent"/>
		<!-- A target.
		<rect id="target" width="20" height="5" x="0" y="695" fill="red" stroke="transparent"/>
		-->
		<!-- An outline of the svg container.-->
		<path d="M 0 0 L 0 1000 L 1000 1000 L 1000 0 Z" stroke="darkblue" fill="transparent" stroke-width="5px"/>
		
	</svg>
		<div>
			<table id="playBar">
				<tr>	
					<td>
						<span>Time: </span>
						<span id="digClock">0.00</span>
					</td>
					<td id="addMe">
						<input id="reset" type="button" onclick="reset()" value="Reset"></input>
					</td>
					<td>
						<span><input id="backTick" type="button" onclick="backTick()" value="<<"></input></span>
						<span><input id="startStop" type="button" onclick="start()" value="Start"></input></span>
						<span><input id="forwardTick" type="button" onclick="forwardTick()" value=">>"></input></span>
					</td>
					<td>
						<span>Time Step: </span>
						<span><input id="input4" type="text" value="0.05" size="4em"/></span>
					</td>
				</tr>
			</table>
		<div>
	<div class="tableFormat">
		<table id="variableTable">
			<tr>
				<th colspan="2">
					Cannon Simulation
				</th>
			<tr class="odd">
				<td> Cannon Height </td>
				<td><input id="input" type="text" value="700"/></td>
			</tr>
			<tr class="even">
				<td> Initial Velocity </td>
				<td><input id="input2" type="text" value="80"/></td>
			</tr>
			<tr class="odd">
				<td> Gravitational Acceleration </td>
				<td><input id="input3" type="text" value="10"/></td>
			</tr>
			<tr>
				<td colspan="2"><input type="button" id="valueReset" onclick="resetValues()" value="Restore Original Parameters"/></td>
			</tr>
		</table>
	

	<script>

		//New stuff: moves with form entry. Here's height:
		var text1 = document.getElementById("input");
		text1.addEventListener("input", function() {yi = +text1.value;});

		var text2 = document.getElementById("input2");
		text2.addEventListener("input", function() {v = +text2.value;});

		var text3 = document.getElementById("input3");
		text3.addEventListener("input", function() {ay = +text3.value;});

		var text4 = document.getElementById("input4");
		text4.addEventListener("input", function() {playBarIncrement = +text4.value;});

		addEventListener("input", function() {reset();});


		function resetValues() {
			yi = originalY;
			v = originalV;
			ay = originalAy;
			text1.value = originalY;
			text2.value = originalV;
			text3.value = originalAy;
			reset();
		}
		

		//Moves target.
		/*function rectangle() {

			d3.selectAll("#target")
				.attr("x", function(e) { return impact(); })
				.attr("y", 700-5);
			//More debugging...
			console.log("rect x = " + d3.selectAll("rect").attr("x"));
			console.log("impactPosition = " + impactPosition);
			//console.log("rect y = " + d3.selectAll("rect").attr("y"));
			
		};
		rectangle();*/

	</script>

</body>

</html>




